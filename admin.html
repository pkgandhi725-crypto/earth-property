<!DOCTYPE html>
<html>
<head>
<title>Admin Panel</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:Arial;background:#f2f2f2;padding:10px;}
header{background:#2e7d32;color:white;padding:15px;text-align:center;border-radius:10px;}
.card{background:white;margin:10px;padding:10px;border-radius:10px;}
button{background:#c62828;color:white;border:none;padding:8px 12px;border-radius:10px;margin:3px;}
.safe{background:#2e7d32;}
</style>
</head>
<body>

<header>
<h2>ðŸ‘‘ Earth Property Admin</h2>
<p>Manage All Properties</p>
</header>

<div id="list"></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
import { getFirestore, collection, getDocs, doc, deleteDoc } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyDJ_qGtz1lx_orG4brwp4xUHWdrKctgJ50",
  authDomain: "earth-properties-c3c56.firebaseapp.com",
  projectId: "earth-properties-c3c56",
  storageBucket: "earth-properties-c3c56.firebasestorage.app",
  messagingSenderId: "677407721236",
  appId: "1:677407721236:web:2964262087105819e6a401"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

async function load(){
 const qs = await getDocs(collection(db,"properties"));
 const list = document.getElementById("list");
 list.innerHTML="";
 qs.forEach(docSnap=>{
  const d=docSnap.data();
  list.innerHTML+=`
   <div class="card">
    <h3>${d.title}</h3>
    <p>${d.location} | ${d.price}</p>
    <p>Reports: ${d.reports||0}</p>
    <button onclick="del('${docSnap.id}')">Delete</button>
   </div>`;
 });
}
window.del=async function(id){
 if(confirm("Delete this post?")){
  await deleteDoc(doc(db,"properties",id));
  alert("Deleted");
  load();
 }
}
window.onload=load;
</script>

</body>
</html>