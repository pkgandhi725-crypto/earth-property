<!DOCTYPE html>
<html>
<head>
  <title>Get Verified</title>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
</head>
<body>

<h2>Premium Verification</h2>
<input id="bizName" placeholder="Business Name">
<button onclick="submitDocs()">Submit</button>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyDJ_qGtz1lx_orG4brwp4xUHWdrKctgJ50",
  authDomain: "earth-properties-c3c56.firebaseapp.com",
  projectId: "earth-properties-c3c56"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();
const auth = firebase.auth();

async function submitDocs() {
  const user = auth.currentUser;
  const bizName = document.getElementById('bizName').value;

  if (!user || !bizName) {
    alert("Login + Business name required");
    return;
  }

  try {
    await db.collection("verification_requests")
      .doc(user.uid)
      .set({
        businessName: bizName,
        idProofUrl: "CLOUDINARY_ID_URL",
        paymentUrl: "CLOUDINARY_PAY_URL",
        status: "pending",
        userId: user.uid,
        createdAt: firebase.firestore.FieldValue.serverTimestamp()
      }, { merge: true });

    alert("✅ Submitted for verification");
  } catch (e) {
    alert("❌ Error: " + e.message);
  }
}
</script>
</body>
</html>
